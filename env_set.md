# 配置环境

### 下载conda

新建了一个linkdom文件夹用来存自己的包

```bash
mkdir linkdom
cd linkdom
```

下载miniconda3

```bash
mkdir miniconda3
```

```shell
cd miniconda3
```

```shell
wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh -O miniconda.sh
```

安装（这一步有点慢）

```shell
bash miniconda.sh -b -u -p miniconda3
```

删除安装包

```shell
rm -rf miniconda.sh
```

配置环境变量

```bash
cd miniconda3/bin
./conda init bash
./conda init zsh
```

执行下面环境变量生效后，我们就可以看到路径前多了一个base

```shell
source /root/.bashrc
```

配置默认不启动

```bash
conda config --set auto_activate_base false
```

退出base环境

```
conda deactivate
```

## 换pip源

我们在linkdom目录下配`pip.conf`

```shell
# This file has been autogenerated or modified by NVIDIA PyIndex.
# In case you need to modify your PIP configuration, please be aware that
# some configuration files may have a priority order. Here are the following 
# files that may exists in your machine by order of priority:
#
# [Priority 1] Site level configuration files
#       1. `/usr/pip.conf`
#
# [Priority 2] User level configuration files
#       1. `/root/.config/pip/pip.conf`
#       2. `/root/.pip/pip.conf`
#
# [Priority 3] Global level configuration files
#       1. `/etc/pip.conf`
#       2. `/etc/xdg/pip/pip.conf`

[global]
no-cache-dir = true
index-url = https://pypi.tuna.tsinghua.edu.cn/simple
extra-index-url = https://pypi.ngc.nvidia.com
[install]
trusted-host=mirrors.aliyun.com
```

备份原有`pip.conf`

```shell
mv /root/.config/pip/pip.conf /root/.config/pip/pip_backup.conf 
```

将新配置移动

```shell
mv pip.conf /root/.config/pip/pip.conf
```

查看是否修改成功

```shell
pip config list
```

```bash
(LKGCN) root@interactive12683:~/linkdom# pip config list
global.extra-index-url='https://pypi.ngc.nvidia.com'
global.index-url='https://pypi.tuna.tsinghua.edu.cn/simple'
global.no-cache-dir='true'
global.trusted-host='\npypi.ngc.nvidia.com'
install.trusted-host='mirrors.aliyun.com'
```

## 新建环境

```bash
conda create --name LKGCN python=3.9 -y
conda activate LKGCN
```

安装torch

```bash
pip install torch torchvision torchaudio
```

